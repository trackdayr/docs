---
let { headings } = Astro.props;
headings = headings.filter(({ depth }) => depth > 1 && depth < 4)
---

<div class="hidden xl:sticky xl:top-[4.5rem] xl:-mr-6 xl:block xl:h-[calc(100vh-4.5rem)] xl:flex-none xl:overflow-y-auto xl:py-16 xl:pr-6">
    <nav aria-labelledby="on-this-page-title" class="w-56">
        <h2 id="on-this-page-title" class="font-display text-sm font-medium text-slate-900 dark:text-white">
            On this page
        </h2>
        <div class="mt-4 space-y-3 text-sm text-slate-500 dark:text-slate-400">
            {headings.map((heading) => {
                if (heading.depth === 2) {
                    return (
                        <h3>
                            <a href={'#'+heading.slug} class="hover:text-slate-600 dark:hover:text-slate-300">
                                {heading.text}
                            </a>
                        </h3>
                    )
                } else if (heading.depth === 3) {
                    return (
                        <h4>
                            <a href={'#'+heading.slug} class="pl-5 hover:text-slate-600 dark:hover:text-slate-300">
                                {heading.text}
                            </a>
                        </h4>
                    )
                }
            })}
        </div>
    </nav>
</div>